!function(i,n){function e(){}function s(e){var t=e.offsetLeft,n=e.offsetTop;if(e.offsetParent){var i=arguments.callee(e.offsetParent);t+=i.x,n+=i.y}return{x:t,y:n}}var t=n.body,o=n.querySelector.bind(n),a=(n.querySelectorAll.bind(n),n.getElementById("gotop")),c=n.getElementById("menu"),l=n.getElementById("main"),d=n.getElementById("header"),r=n.getElementById("mask"),f=n.getElementById("menu-toggle"),v=n.getElementById("menu-off"),g=n.getElementById("loading"),u=i.requestAnimationFrame,h=navigator.userAgent,m=-1!==h.indexOf("Mobile")||-1!==h.indexOf("Android")||-1!==h.indexOf("iPhone")||-1!==h.indexOf("iPad")||-1!==h.indexOf("KFAPWI")?"touchstart":"click",L=-1==h.indexOf("Edge")?n.documentElement:t,p={goTop:function(){var e=L.scrollTop;400<e?(L.scrollTop=e-400,u(arguments.callee)):L.scrollTop=0},toggleGotop:function(e){e>i.innerHeight/2?a.classList.add("in"):a.classList.remove("in")},toggleMenu:function(e){e?(c.classList.remove("hide"),l.classList.add("offset-main"),i.innerWidth<1241&&(r.classList.add("in"),c.classList.add("show"))):(c.classList.add("hide"),c.classList.remove("show"),r.classList.remove("in"),l.classList.remove("offset-main"))},fixedHeader:function(e){e>d.clientHeight?d.classList.add("fixed"):d.classList.remove("fixed")},toc:function(){var t=o("#post-toc");if(!t||!t.children.length)return{fixed:e,actived:e};var n=o(".content-header").clientHeight,i=d.clientHeight,a=o("#post-content").querySelectorAll("h1, h2, h3, h4, h5, h6");return t.querySelector('a[href="#'+a[0].id+'"]').parentNode.classList.add("active"),{fixed:function(e){n-i<=e?t.classList.add("fixed"):t.classList.remove("fixed")},actived:function(e){for(E=0,len=a.length;E<len;E++){if(e>s(a[E]).y-i-5)t.querySelector("li.active").classList.remove("active"),t.querySelector('a[href="#'+a[E].id+'"]').parentNode.classList.add("active")}e<s(a[0]).y&&(t.querySelector("li.active").classList.remove("active"),t.querySelector('a[href="#'+a[0].id+'"]').parentNode.classList.add("active"))}}}(),share:function(){var e=n.getElementById("global-share");n.getElementById("menu-share").addEventListener(m,function(){r.classList.add("in"),r.classList.add("hide"),e.classList.add("in")},!1),r.addEventListener(m,function(){e.classList.remove("in"),r.classList.remove("in"),r.classList.remove("hide")},!1)},search:function(){var e=n.getElementById("search-wrap");function t(){e.classList.toggle("in")}n.getElementById("search").addEventListener(m,t),n.getElementById("search").addEventListener(m,t)}};c.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!0}),i.addEventListener("load",function(){g.classList.remove("active");var e=L.scrollTop;if(p.toc.fixed(e),p.toc.actived(e),~i.location.pathname.indexOf("tags")){var t=i.location.pathname.split("/")[2].replace("-"," ");t={c:"c++"}[t]||t,highlightActiveTag(t)}}),i.addEventListener("resize",function(){p.toggleMenu()}),a.addEventListener(m,function(){u(p.goTop)},!1),f.addEventListener(m,function(e){p.toggleMenu(!0),e.preventDefault()},!1),v.addEventListener(m,function(){c.classList.add("hide"),l.classList.remove("offset-main")},!1),r.addEventListener(m,function(){p.toggleMenu()},!1),n.addEventListener("scroll",function(){var e=L.scrollTop;p.toggleGotop(e),p.fixedHeader(e),p.toc.fixed(e),p.toc.actived(e)},!1),"undefined"!=typeof BLOG_SHARE&&p.share();for(var y=n.getElementsByClassName("archive-article"),E=0;E<y.length;E++)y[E].onclick=function(){i.location.href=this.getAttribute("to")};Waves.init(),Waves.attach(".global-share li",["waves-block"]),Waves.attach(".article-tag-list-link, #page-nav a, #page-nav span",["waves-button"]),n.body.oncopy=function(e){var t=i.getSelection(),n=20<t.toString().length?"\n\nSource: "+i.location.href+"\n":"";return e.clipboardData.setData("text/plain",t+n),!1}}(window,document);